{"version":3,"sources":["pages/OrderQuery/index.tsx"],"names":["FormItem","Item","columns","title","dataIndex","key","observer","props","useContext","stores","loading","openLoading","closeLoading","state","useLocalStore","dataSource","orderNo","query","a","axios","get","params","style","background","padding","layout","onSubmit","ev","preventDefault","onChange","console","log","target","value","prefix","type","color","placeholder","disabled","htmlType","dashed","size"],"mappings":"oTAOMA,EAAW,IAAKC,KAEhBC,EAAU,CACd,CACEC,MAAO,uCACPC,UAAW,IACXC,IAAK,KAEP,CACEF,MAAO,iBACPC,UAAW,IACXC,IAAK,KAEP,CACEF,MAAO,2BACPC,UAAW,IACXC,IAAK,KAEP,CACEF,MAAO,2BACPC,UAAW,IACXC,IAAK,KAEP,CACEF,MAAO,2BACPC,UAAW,IACXC,IAAK,KAEP,CACEF,MAAO,2BACPC,UAAW,IACXC,IAAK,KAEP,CACEF,MAAO,2BACPC,UAAW,IACXC,IAAK,MA8DMC,sBApDsB,SAAAC,GAAU,IAAD,EACGC,qBAAWC,KAAlDC,EADoC,EACpCA,QAASC,EAD2B,EAC3BA,YAAaC,EADc,EACdA,aACxBC,EAAQC,YACZ,iBACG,CACCC,WAAY,GACZC,QAAS,MAcTC,EAAK,sCAAG,sBAAAC,EAAA,4DACZP,IADY,SAENQ,IAAMC,IAAI,eAAgB,CAC9BC,OAAQ,CACNL,QAASH,EAAMG,WAJP,OAOZJ,IAPY,yCAAH,qDAUX,OACE,yBAAKU,MAAO,CAAEC,WAAY,OAAQC,QAAS,SACzC,uBAAMC,OAAO,SAASC,SAjBL,SAACC,GACpBA,EAAGC,iBACHX,MAgBI,kBAACjB,EAAD,KACE,uBACE6B,SAzBgB,SAACF,GACzBG,QAAQC,IAAIJ,GACZd,EAAMG,QAAUW,EAAGK,OAAOC,OAwBlBC,OAAQ,uBAAMC,KAAK,YAAYb,MAAO,CAAEc,MAAO,qBAC/CC,YAAY,4DAGhB,kBAACrC,EAAD,KACE,uBAAQU,QAASA,EAAS4B,UAAWzB,EAAMG,QAASmB,KAAK,UAAUI,SAAS,UAA5E,kBAKJ,uBAASC,QAAM,IACf,uBAAO9B,QAASA,EAASK,WAAYF,EAAME,WAAYb,QAASA,EAASuC,KAAK","file":"static/js/12.53b2494e.chunk.js","sourcesContent":["import React, { useContext } from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { Form, Icon, Input, Button, Table, Divider } from 'antd'\nimport { observer, useLocalStore } from 'mobx-react-lite'\nimport * as stores from '../../store'\nimport axios from '../../plugins/axios'\n\nconst FormItem = Form.Item\n\nconst columns = [\n  {\n    title: '合作商订单号',\n    dataIndex: '1',\n    key: '1'\n  },\n  {\n    title: '订单ID',\n    dataIndex: '2',\n    key: '2'\n  },\n  {\n    title: '商户编号',\n    dataIndex: '3',\n    key: '3'\n  },\n  {\n    title: '商户名称',\n    dataIndex: '4',\n    key: '4'\n  },\n  {\n    title: '交易金额',\n    dataIndex: '5',\n    key: '5'\n  },\n  {\n    title: '订单状态',\n    dataIndex: '6',\n    key: '6'\n  },\n  {\n    title: '下单时间',\n    dataIndex: '7',\n    key: '7'\n  }\n]\n\ninterface IProps extends RouteComponentProps {}\ninterface IState {\n  dataSource: any\n  orderNo: string\n}\n\nconst OrderQuery: React.FC<IProps> = props => {\n  const { loading, openLoading, closeLoading } = useContext(stores.uiStore)\n  const state = useLocalStore(\n    () =>\n      ({\n        dataSource: [],\n        orderNo: ''\n      } as IState)\n  )\n\n  const handleInputChange = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    console.log(ev);\n    state.orderNo = ev.target.value\n  }\n\n  const handleSubmit = (ev: React.FormEvent<HTMLFormElement>) => {\n    ev.preventDefault()\n    query()\n  }\n\n  const query = async () => {\n    openLoading()\n    await axios.get('/order-query', {\n      params: {\n        orderNo: state.orderNo\n      }\n    })\n    closeLoading()\n  }\n\n  return (\n    <div style={{ background: '#fff', padding: '24px' }}>\n      <Form layout=\"inline\" onSubmit={handleSubmit}>\n        <FormItem>\n          <Input\n            onChange={handleInputChange}\n            prefix={<Icon type=\"file-text\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n            placeholder=\"请输入合作商订单号\"\n          />\n        </FormItem>\n        <FormItem>\n          <Button loading={loading} disabled={!state.orderNo} type=\"primary\" htmlType=\"submit\">\n            查询\n          </Button>\n        </FormItem>\n      </Form>\n      <Divider dashed />\n      <Table loading={loading} dataSource={state.dataSource} columns={columns} size=\"middle\" />\n    </div>\n  )\n}\n\nexport default observer(OrderQuery)\n"],"sourceRoot":""}